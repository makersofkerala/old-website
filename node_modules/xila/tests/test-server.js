const http = require('http'), xila = require('../xila');

let args = process.argv.slice(2);

let port = (args.length > 0) ? args[0] : 5000;

xila.register("/redirected", xila.html("You got redirected."));

xila.register("/redirect", xila.redirect("/redirected"));

xila.register("/", xila.html("Welcome!"));

const server = xila.serve();

server.listen(port, () => {

    console.log(`Serving on port: ${port}`);

});

server.on("error", console.log);
